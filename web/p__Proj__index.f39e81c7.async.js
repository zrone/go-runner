(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[541],{25061:function(ce,M,n){"use strict";n.r(M),n.d(M,{default:function(){return oe}});var me=n(83385),w=n(55297),pe=n(44370),z=n(99957),fe=n(41294),G=n(67739),y=n(51758),F=n(40155),he=n(29068),f=n(65175),h=n(80153),H=n(94043),u=n.n(H),K=n(49101),e=n(67294),J=n(17044),N=n(92220),D=n(72709),R=n(27398);function Q(s){return T.apply(this,arguments)}function T(){return T=(0,h.Z)(u().mark(function s(t){return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,D.Z)("".concat(R.Z.host,"/task/proj/list"),{params:t}));case 1:case"end":return a.stop()}},s)})),T.apply(this,arguments)}function W(s){return V.apply(this,arguments)}function V(){return V=(0,h.Z)(u().mark(function s(t){return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,D.Z)("".concat(R.Z.host,"/task/proj/").concat(t),{method:"DELETE"}));case 1:case"end":return a.stop()}},s)})),V.apply(this,arguments)}function X(s){return $.apply(this,arguments)}function $(){return $=(0,h.Z)(u().mark(function s(t){return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,D.Z)("".concat(R.Z.host,"/task/proj"),{method:"POST",data:(0,F.Z)({},t)}));case 1:case"end":return a.stop()}},s)})),$.apply(this,arguments)}function Y(s){return U.apply(this,arguments)}function U(){return U=(0,h.Z)(u().mark(function s(t){return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,D.Z)("".concat(R.Z.host,"/task/proj/").concat(t.symbol),{method:"PATCH",data:(0,F.Z)({},t)}));case 1:case"end":return a.stop()}},s)})),U.apply(this,arguments)}var ve=n(41956),L=n(25017),j=n(28053),Ee=n(89167),P=n(23643),Ze=n(8241),O=n(58533),Fe=n(59094),m=n(66032),ye=n(76241),l=n(26308),q={labelCol:{span:5},wrapperCol:{span:18}},x={wrapperCol:{span:18,offset:5}},_=function(t){var o=(0,e.useState)({name:"",secret:"",path:"",user:"",host:"",port:22,pwd:""}),a=(0,y.Z)(o,1),d=a[0],v=t.modalVisible,r=t.onCancel,A=t.onSubmit,b=l.Z.useForm(),C=(0,y.Z)(b,1),S=C[0],g=function(){var k=(0,h.Z)(u().mark(function E(){var I;return u().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,S.validateFields();case 2:I=i.sent,A((0,F.Z)((0,F.Z)({},d),I));case 4:case"end":return i.stop()}},E)}));return function(){return k.apply(this,arguments)}}();return e.createElement(L.Z,{bodyStyle:{padding:"32px 40px 10px"},destroyOnClose:!0,maskClosable:!1,title:"\u6DFB\u52A0\u9879\u76EE",visible:v,onCancel:function(){return r()},footer:null,width:800,centered:!0},e.createElement(l.Z,(0,j.Z)({},q,{form:S,colon:!1,initialValues:d,size:"middle"}),e.createElement(l.Z.Item,{name:"name",label:"\u9879\u76EE\u540D\u79F0",hasFeedback:!0,rules:[{required:!0,message:"\u9879\u76EE\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"secret",label:"\u79D8\u94A5",hasFeedback:!0,rules:[{required:!0,message:"\u79D8\u94A5\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"path",label:"\u90E8\u7F72\u8DEF\u5F84",hasFeedback:!0,rules:[{required:!0,message:"\u90E8\u7F72\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"host",label:"\u4E3B\u673A",hasFeedback:!0,rules:[{required:!0,message:"\u4E3B\u673A\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"user",label:"\u7528\u6237\u540D",hasFeedback:!0,rules:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"port",label:"\u7AEF\u53E3",rules:[{required:!0,message:"\u7AEF\u53E3\u4E0D\u80FD\u4E3A\u7A7A!"}]},e.createElement(O.Z,{min:0,placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"pwd",label:"\u767B\u5F55\u5BC6\u7801",hasFeedback:!0,rules:[{required:!0,message:"\u767B\u5F55\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,x,e.createElement(P.Z,null,e.createElement(w.Z,{type:"primary",onClick:function(){return g()}},"\u63D0\u4EA4"),e.createElement(w.Z,{onClick:r},"\u53D6\u6D88")))))},ee=_,re={labelCol:{span:5},wrapperCol:{span:18}},ae={wrapperCol:{span:18,offset:5}},te=function(t){var o=t.onSubmit,a=t.onCancel,d=t.updateModalVisible,v=t.values,r=(0,e.useState)(v),A=(0,y.Z)(r,1),b=A[0],C=l.Z.useForm(),S=(0,y.Z)(C,1),g=S[0],k=function(){var E=(0,h.Z)(u().mark(function I(){var p;return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g.validateFields();case 2:p=c.sent,o((0,F.Z)((0,F.Z)({},b),p));case 4:case"end":return c.stop()}},I)}));return function(){return E.apply(this,arguments)}}();return e.createElement(L.Z,{bodyStyle:{padding:"32px 40px 10px"},destroyOnClose:!0,maskClosable:!1,title:"\u7F16\u8F91\u9879\u76EE",visible:d,onCancel:function(){return a()},footer:null,width:800,centered:!0},e.createElement(l.Z,(0,j.Z)({},re,{form:g,colon:!1,initialValues:b,size:"middle"}),e.createElement(l.Z.Item,{name:"symbol",label:"\u9879\u76EE\u6807\u8BC6",hasFeedback:!0,rules:[{required:!0,message:"\u9879\u76EE\u6807\u8BC6\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{disabled:!0,placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"name",label:"\u9879\u76EE\u540D\u79F0",hasFeedback:!0,rules:[{required:!0,message:"\u9879\u76EE\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"secret",label:"\u79D8\u94A5",hasFeedback:!0,rules:[{required:!0,message:"\u79D8\u94A5\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"path",label:"\u90E8\u7F72\u8DEF\u5F84",hasFeedback:!0,rules:[{required:!0,message:"\u90E8\u7F72\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"host",label:"\u4E3B\u673A",hasFeedback:!0,rules:[{required:!0,message:"\u4E3B\u673A\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"user",label:"\u7528\u6237\u540D",hasFeedback:!0,rules:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A\uFF01"}]},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"port",label:"\u7AEF\u53E3",rules:[{required:!0,message:"\u7AEF\u53E3\u4E0D\u80FD\u4E3A\u7A7A!"}]},e.createElement(O.Z,{min:0,placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,{name:"pwd",label:"\u767B\u5F55\u5BC6\u7801",hasFeedback:!0},e.createElement(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})),e.createElement(l.Z.Item,ae,e.createElement(P.Z,null,e.createElement(w.Z,{type:"primary",onClick:function(){return k()}},"\u63D0\u4EA4"),e.createElement(w.Z,{onClick:function(){return a(!1,v)}},"\u53D6\u6D88")))))},ne=te,ue=function(){var s=(0,h.Z)(u().mark(function t(o){var a,d;return u().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=f.default.loading({content:"\u63D0\u4EA4\u4E2D...",key:"handleAdd"}),r.prev=1,r.next=4,X((0,F.Z)({},o));case 4:if(d=r.sent,d.code!=400){r.next=8;break}return f.default.error({content:d.message,key:"handleAdd",duration:2}),r.abrupt("return",!1);case 8:return f.default.success({content:"\u521B\u5EFA\u6210\u529F!",key:"handleAdd",duration:2}),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(1),f.default.error({content:"\u521B\u5EFA\u5931\u8D25!",key:"handleAdd",duration:2}),r.abrupt("return",!1);case 16:return r.prev=16,setTimeout(function(){a()},2e3),r.finish(16);case 19:case"end":return r.stop()}},t,null,[[1,12,16,19]])}));return function(o){return s.apply(this,arguments)}}(),le=function(){var s=(0,h.Z)(u().mark(function t(o){var a,d;return u().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=f.default.loading({content:"\u63D0\u4EA4\u4E2D...",key:"handleAdd"}),r.prev=1,r.next=4,Y(o);case 4:if(d=r.sent,d.code!=400){r.next=8;break}return f.default.error({content:d.message,key:"handleAdd",duration:2}),r.abrupt("return",!1);case 8:return f.default.success({content:"\u66F4\u65B0\u6210\u529F!",key:"handleAdd",duration:2}),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(1),f.default.error({content:"\u66F4\u65B0\u5931\u8D25!",key:"handleAdd",duration:2}),r.abrupt("return",!1);case 16:return r.prev=16,setTimeout(function(){a()},2e3),r.finish(16);case 19:case"end":return r.stop()}},t,null,[[1,12,16,19]])}));return function(o){return s.apply(this,arguments)}}(),se=function(){var s=(0,h.Z)(u().mark(function t(o){var a,d;return u().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=f.default.loading({content:"\u63D0\u4EA4\u4E2D...",key:"handleRemove"}),r.prev=1,r.next=4,W(o);case 4:if(d=r.sent,d.code!=400){r.next=8;break}return f.default.error({content:d.message,key:"handleRemove",duration:2}),r.abrupt("return",!1);case 8:return f.default.success({content:"\u5220\u9664\u6210\u529F!",key:"handleRemove",duration:2}),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(1),f.default.error({content:"\u5220\u9664\u5931\u8D25!",key:"handleRemove",duration:2}),r.abrupt("return",!1);case 16:return r.prev=16,setTimeout(function(){a()},2e3),r.finish(16);case 19:case"end":return r.stop()}},t,null,[[1,12,16,19]])}));return function(o){return s.apply(this,arguments)}}(),de=function(){var t=(0,e.useRef)(),o=(0,e.useState)(!1),a=(0,y.Z)(o,2),d=a[0],v=a[1],r=(0,e.useState)(!1),A=(0,y.Z)(r,2),b=A[0],C=A[1],S=(0,e.useState)(),g=(0,y.Z)(S,2),k=g[0],E=g[1],I=[{title:"\u9879\u76EE\u540D\u79F0 / \u6807\u8BC6",dataIndex:"name",fixed:"left",ellipsis:!0,width:180,render:function(i,c){return e.createElement(e.Fragment,null,e.createElement("span",null,c.name,e.createElement("br",null)),e.createElement("span",null,c.symbol))}},{title:"\u79D8\u94A5",dataIndex:"secret",ellipsis:!0,copyable:!0,width:220},{title:"\u90E8\u7F72\u76EE\u5F55",dataIndex:"path",ellipsis:!0,width:150},{title:"\u4E3B\u673A\u5730\u5740",dataIndex:"host",hideInTable:!0},{title:"\u7528\u6237\u540D",dataIndex:"ssh",hideInTable:!0},{title:"\u7AEF\u53E3",dataIndex:"port",hideInTable:!0},{title:"\u94FE\u63A5\u5BC6\u7801",dataIndex:"pwd",hideInTable:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",width:120,fixed:"right",render:function(i,c){return e.createElement(e.Fragment,null,e.createElement("a",{onClick:function(){E(c),C(!0)}},"\u914D\u7F6E"),e.createElement(G.Z,{type:"vertical"}),e.createElement(z.Z,{title:"\u786E\u8BA4\u8981\u5220\u9664\u9879\u76EE\u914D\u7F6E\u5417?",onConfirm:function(){se(c.symbol),t.current&&t.current.reload()},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88"},e.createElement("a",null,"\u5220\u9664")))}}];return e.createElement(J.Z,null,e.createElement(N.ZP,{headerTitle:"\u9879\u76EE\u5217\u8868",size:"small",actionRef:t,rowKey:"symbol",search:!1,toolBarRender:function(){return[e.createElement(w.Z,{type:"primary",key:"primary",onClick:function(){v(!0)}},e.createElement(K.Z,null)," \u6DFB\u52A0")]},request:function(i,c){return Q((0,F.Z)((0,F.Z)({},i),{},{sorter:c}))},columns:I}),d?e.createElement(ee,{onCancel:function(){return v(!1)},modalVisible:d,onSubmit:function(){var p=(0,h.Z)(u().mark(function i(c){var B;return u().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,ue(c);case 2:B=Z.sent,B&&(v(!1),t.current&&t.current.reload());case 4:case"end":return Z.stop()}},i)}));return function(i){return p.apply(this,arguments)}}()}):null,b?e.createElement(ne,{values:k,onSubmit:function(){var p=(0,h.Z)(u().mark(function i(c){var B;return u().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,le(c);case 2:B=Z.sent,B&&(C(!1),E({symbol:"",name:"",secret:"",path:"",user:"",host:"",port:22,pwd:""}),t.current&&t.current.reload());case 4:case"end":return Z.stop()}},i)}));return function(i){return p.apply(this,arguments)}}(),onCancel:function(){C(!1),E({symbol:"",name:"",secret:"",path:"",user:"",host:"",port:22,pwd:""})},updateModalVisible:b}):null)},oe=de}}]);
